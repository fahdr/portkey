kubelet-csr-approver:
  # Only approve CSRs from nodes on our LAN subnet
  providerIpPrefixes:
    - "192.168.0.0/24"

  # Only approve CSRs for node hostnames matching our naming patterns
  # metalN = worker nodes, talos-xxx-yyy = control plane nodes
  providerRegex: "^(metal\\d+|talos-[a-z0-9]+-[a-z0-9]+)$"

  bypassHostnameCheck: true
  bypassDnsResolution: true

  replicas: 1
  leaderElection: false

  resources:
    requests:
      cpu: 10m
      memory: 32Mi
    limits:
      memory: 64Mi

  metrics:
    enable: true
    serviceMonitor:
      enabled: true
